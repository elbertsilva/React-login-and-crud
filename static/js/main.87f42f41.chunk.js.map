{"version":3,"sources":["server/server.js","auth/styles.js","store/login.js","auth/index.js","view/styles.js","view/index.js","routes/index.js","Global/globalStyle.js","App.js","store/configureStore.js","index.js"],"names":["api","axios","create","baseURL","Container","styled","div","Content","Title","label","slice","createSlice","name","initialState","loading","data","error","reducers","fetchStarted","state","fetchSuccess","action","payload","fetchError","actions","password","Auth","React","useState","login","setLogin","setError","history","useHistory","dispatch","useDispatch","a","server","post","console","log","localStorage","setItem","push","message","onChange","e","target","value","style","width","type","onClick","background","borderRadius","fontSize","listStyle","marginTop","to","Header","ButtonLogout","button","h1","Button","color","Table","table","Input","input","id","undefined","nome","cidade","View","setPost","get","setGet","getTeste","put","delete","useEffect","removeItem","placeholder","map","handleEdit","handleDelete","Routes","basename","exact","path","render","Global","createGlobalStyle","App","reducer","combineReducers","store","configureStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"mQAMeA,E,OAJHC,EAAMC,OAAO,CACvBC,QAAS,0B,cCDEC,EAAYC,IAAOC,IAAV,+MASTC,EAAUF,IAAOC,IAAV,0TAaPE,EAAQH,IAAOI,MAAV,yE,gBCtBZC,EAAQC,YAAY,CACxBC,KAAM,QACNC,aAAc,CACZC,SAAS,EACTC,KAAM,KACNC,MAAO,MAETC,SAAU,CACRC,aADQ,SACKC,GACXA,EAAML,SAAU,GAElBM,aAJQ,SAIKD,EAAOE,GAClBF,EAAML,SAAU,EAChBK,EAAMJ,KAAOM,EAAOC,QACpBH,EAAMH,MAAQ,MAEhBO,WATQ,SASGJ,EAAOE,GAChBF,EAAML,SAAU,EAChBK,EAAMJ,KAAO,KACbI,EAAMH,MAAQK,EAAOC,Y,EAK+BZ,EAAMc,QAAjDN,E,EAAAA,aAAcE,E,EAAAA,aAAcG,E,EAAAA,WAC5Bb,IAAf,Q,OCnBMG,EAAe,CACnBD,KAAM,GACNa,SAAU,IA4DGC,I,gBAAAA,EA1Df,WAAiB,IAAD,EACYC,IAAMC,SAASf,GAD3B,mBACPgB,EADO,KACAC,EADA,OAEYH,IAAMC,SAAS,IAF3B,mBAEPZ,EAFO,KAEAe,EAFA,KAGRC,EAAUC,cACVC,EAAWC,cAJH,4CAMd,4BAAAC,EAAA,6DACEF,EAAShB,KADX,kBAIuBmB,EAAOC,KAAK,SAAUT,GAJ7C,OAIUd,EAJV,OAKIgB,EAAS,IACTQ,QAAQC,IAAIzB,EAAKA,MACjB0B,aAAaC,QAAQ,QAAS3B,EAAKA,MACnCmB,EAASd,EAAaL,EAAKA,OAC3BiB,EAAQW,KAAK,SATjB,kDAWIT,EAASX,EAAW,KAAMqB,UAC1Bb,EAAS,mBAZb,2DANc,sBAsBd,OACE,cAAC3B,EAAD,UACE,eAACG,EAAD,WACE,cAACC,EAAD,oBACA,uBACEqC,SAAU,SAACC,GAAD,OAAOhB,EAAS,2BAAKD,GAAN,IAAajB,KAAMkC,EAAEC,OAAOC,UACrDC,MAAO,CAAEC,MAAO,QAChBC,KAAK,OACLH,MAAOnB,EAAMjB,OAEf,cAACJ,EAAD,uBACA,uBACEqC,SAAU,SAACC,GAAD,OAAOhB,EAAS,2BAAKD,GAAN,IAAaJ,SAAUqB,EAAEC,OAAOC,UACzDG,KAAK,WACLF,MAAO,CAAEC,MAAO,QAChBF,MAAOnB,EAAMJ,WAEdT,EACD,wBACEoC,QAzCM,2CA0CNH,MAAO,CACLI,WAAY,UACZC,aAAc,OACdC,SAAU,SACVC,UAAW,OACXC,UAAW,OACXP,MAAO,OARX,SAWE,cAAC,IAAD,CAAMQ,GAAG,QAAT,2BC7DGtD,EAAYC,IAAOC,IAAV,wMAUTqD,EAAStD,IAAOC,IAAV,+SAeNsD,EAAevD,IAAOwD,OAAV,4QAUZtD,EAAUF,IAAOC,IAAV,6UAaPE,EAAQH,IAAOyD,GAAV,yEAKLC,EAAS1D,IAAOwD,OAAV,6SACG,qBAAGG,SAWZC,EAAQ5D,IAAO6D,MAAV,sQAULC,EAAQ9D,IAAO+D,MAAV,8CChEZvD,EAAe,CAAEwD,QAAIC,EAAWC,KAAM,GAAIC,OAAQ,IA0GzCC,I,EAAAA,EAxGf,WAAiB,IAAD,EACU9C,IAAMC,SAASf,GADzB,mBACPyB,EADO,KACDoC,EADC,OAEQ/C,IAAMC,SAAS,IAFvB,mBAEP+C,EAFO,KAEFC,EAFE,KAGR5C,EAAUC,cAHF,SAIC4C,IAJD,2EAId,4BAAAzC,EAAA,sEACqBC,EAAOsC,IAAI,UADhC,OACQ5D,EADR,OAEE6D,EAAO7D,EAAKA,MAFd,4CAJc,kEAad,sBAAAqB,EAAA,0DACME,EAAK+B,GADX,gCAEUhC,EAAOyC,IAAP,gBAAoBxC,EAAK+B,IAAM,CACnCE,KAAMjC,EAAKiC,KACXC,OAAQlC,EAAKkC,SAJnB,OAMIK,IACAH,EAAQ7D,GAPZ,uCASUwB,EAAOC,KAAK,YAAaA,GATnC,OAUIC,QAAQC,IAAIF,GACZuC,IACAH,EAAQ7D,GAZZ,6CAbc,kEA6Bd,WAA4BwD,GAA5B,SAAAjC,EAAA,sEACQC,EAAO0C,OAAP,kBAAyBV,IADjC,OAEEQ,IAFF,4CA7Bc,kEAkCd,WAA0B9D,GAA1B,SAAAqB,EAAA,sDACEsC,EAAQ3D,GADV,4CAlCc,sBAsCd,OA7BAY,IAAMqD,WAAU,WACdH,MACC,IA6BD,cADA,CACC,EAAD,WACE,cAAClB,EAAD,UACE,cAACC,EAAD,CACER,QAAS,WACPX,aAAawC,WAAW,SACxBjD,EAAQW,KAAK,MAHjB,sBASF,8BACE,eAAC,EAAD,WACE,cAAC,EAAD,qCAEA,cAACwB,EAAD,CACEhB,KAAK,OACLH,MAAOV,EAAKiC,KACZ1B,SAAU,SAACC,GAAD,OAAO4B,EAAQ,2BAAKpC,GAAN,IAAYiC,KAAMzB,EAAEC,OAAOC,UACnDkC,YAAY,SAGd,cAACf,EAAD,CACEhB,KAAK,OACLH,MAAOV,EAAKkC,OACZ3B,SAAU,SAACC,GAAD,OAAO4B,EAAQ,2BAAKpC,GAAN,IAAYkC,OAAQ1B,EAAEC,OAAOC,UACrDkC,YAAY,SAEd,cAACnB,EAAD,CAAQX,QApEF,2CAoEwBH,MAAO,CAAEI,WAAY,WAAnD,uBAKJ,8BACE,eAACY,EAAD,WACE,+BACE,oCACA,sCACA,yCAEDU,EAAIQ,KAAI,SAACpE,GAAD,OACP,+BACE,6BAAKA,EAAKsD,KACV,6BAAKtD,EAAKwD,OACV,6BAAKxD,EAAKyD,SACV,6BACE,cAACT,EAAD,CAAQX,QAAS,kBAtFjB,2CAsFuBgC,CAAWrE,IAAOiD,MAAO,UAAhD,oBAIF,6BACE,cAACD,EAAD,CAAQX,QAAS,kBA3FjB,2CA2FuBiC,CAAatE,EAAKsD,KAAKL,MAAO,UAArD,wBAVKjD,EAAKsD,gBCnEXiB,GAXA,WACb,OACE,cAAC,IAAD,CAAeC,SAAS,wBAAxB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAM,cAAC,EAAD,OACpC,cAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,QAAQC,OAAQ,kBAAM,cAAC,EAAD,aCrBnCC,GAASC,YAAH,mVCSJC,GANH,kBACV,qCACE,cAACF,GAAD,IACA,cAAC,GAAD,Q,SCLEG,GAAUC,aAAgB,CAAElE,UAGnBmE,GAFDC,YAAe,CAAEH,aCG/BI,IAASR,OACP,cAAC,IAAMS,WAAP,UACE,cAAC,IAAD,CAAUH,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGJI,SAASC,eAAe,W","file":"static/js/main.87f42f41.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: \"http://localhost:3333\",\r\n});\r\n\r\nexport default api;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  height: 100vh;\r\n  width: 100%;\r\n  background: linear-gradient(to right, rgba(0, 0, 150, 8), transparent);\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\r\n    0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\r\n  display: grid;\r\n  justify-items: center;\r\n  padding: 30px;\r\n  width: 30%;\r\n  min-height: 40%;\r\n  /* gap: 10px; */\r\n`;\r\n\r\nexport const Title = styled.label`\r\n  text-align: center;\r\n  font-size: 1.8rem;\r\n`;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst slice = createSlice({\r\n  name: \"login\",\r\n  initialState: {\r\n    loading: false,\r\n    data: null,\r\n    error: null,\r\n  },\r\n  reducers: {\r\n    fetchStarted(state) {\r\n      state.loading = true;\r\n    },\r\n    fetchSuccess(state, action) {\r\n      state.loading = false;\r\n      state.data = action.payload;\r\n      state.error = null;\r\n    },\r\n    fetchError(state, action) {\r\n      state.loading = false;\r\n      state.data = null;\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { fetchStarted, fetchSuccess, fetchError } = slice.actions;\r\nexport default slice.reducer;\r\n","import React from \"react\";\r\nimport server from \"../server/server\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { Container, Content, Title } from \"./styles\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchError, fetchStarted, fetchSuccess } from \"../store/login\";\r\n\r\nexport const isAutenticated = () => localStorage.getItem(\"token\");\r\nconst initialState = {\r\n  name: \"\",\r\n  password: \"\",\r\n};\r\nfunction Auth() {\r\n  const [login, setLogin] = React.useState(initialState);\r\n  const [error, setError] = React.useState(\"\");\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  async function handleLogin() {\r\n    dispatch(fetchStarted());\r\n\r\n    try {\r\n      const data = await server.post(\"/login\", login);\r\n      setError(\"\");\r\n      console.log(data.data);\r\n      localStorage.setItem(\"token\", data.data);\r\n      dispatch(fetchSuccess(data.data));\r\n      history.push(\"/view\");\r\n    } catch (error) {\r\n      dispatch(fetchError(error.message));\r\n      setError(\"Dados invalidos\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Content>\r\n        <Title>Login</Title>\r\n        <input\r\n          onChange={(e) => setLogin({ ...login, name: e.target.value })}\r\n          style={{ width: \"100%\" }}\r\n          type=\"text\"\r\n          value={login.name}\r\n        ></input>\r\n        <Title>Password</Title>\r\n        <input\r\n          onChange={(e) => setLogin({ ...login, password: e.target.value })}\r\n          type=\"password\"\r\n          style={{ width: \"100%\" }}\r\n          value={login.password}\r\n        ></input>\r\n        {error}\r\n        <button\r\n          onClick={handleLogin}\r\n          style={{\r\n            background: \"#0066ff\",\r\n            borderRadius: \"10px\",\r\n            fontSize: \"1.8rem\",\r\n            listStyle: \"none\",\r\n            marginTop: \"10px\",\r\n            width: \"30%\",\r\n          }}\r\n        >\r\n          <Link to=\"/view\">Enter</Link>\r\n        </button>\r\n      </Content>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Auth;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  justify-items: center;\r\n  @media (max-width: 1024px) {\r\n    grid-template-columns: 1fr;\r\n    gap: 10px;\r\n  }\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  background-color: #000;\r\n  border: 3px solid #000;\r\n  display: flex;\r\n  grid-column: 1/-1;\r\n  justify-content: flex-end;\r\n  margin-bottom: 40px;\r\n  padding: 10px;\r\n  width: 100%;\r\n  @media (max-width: 1024px) {\r\n    justify-content: center;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nexport const ButtonLogout = styled.button`\r\n  background-color: #ff0000;\r\n  border-color: #000;\r\n  border-radius: 10px;\r\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\r\n    0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\r\n  font-size: 1.8rem;\r\n  padding: 5px;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  align-items: center;\r\n  background-color: #0066ff;\r\n  border-radius: 10px;\r\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\r\n    0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n  justify-items: stretch;\r\n  padding: 30px;\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  grid-column: 1/-1;\r\n  text-align: center;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  background-color: ${({ color }) => color};\r\n  border-color: #000;\r\n  border-radius: 10px;\r\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\r\n    0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\r\n  color: #000;\r\n  font-size: 1rem;\r\n  margin: 10px;\r\n  padding: 10px 25px;\r\n`;\r\n\r\nexport const Table = styled.table`\r\n  background-color: #0066ff;\r\n  box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%),\r\n    0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\r\n  font-size: 1.8rem;\r\n  @media (max-width: 1024px) {\r\n    margin: 0 10px;\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  padding: 10px;\r\n`;\r\n","import React from \"react\";\r\nimport server from \"../server/server\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Content,\r\n  Header,\r\n  Table,\r\n  Button,\r\n  Title,\r\n  ButtonLogout,\r\n  Input,\r\n} from \"./styles\";\r\nconst initialState = { id: undefined, nome: \"\", cidade: \"\" };\r\n\r\nfunction View() {\r\n  const [post, setPost] = React.useState(initialState);\r\n  const [get, setGet] = React.useState([]);\r\n  const history = useHistory();\r\n  async function getTeste() {\r\n    const data = await server.get(\"/teste\");\r\n    setGet(data.data);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    getTeste();\r\n  }, []);\r\n\r\n  async function handleClick() {\r\n    if (post.id) {\r\n      await server.put(`/edit/${post.id}`, {\r\n        nome: post.nome,\r\n        cidade: post.cidade,\r\n      });\r\n      getTeste();\r\n      setPost(initialState);\r\n    } else {\r\n      await server.post(\"/cadastro\", post);\r\n      console.log(post);\r\n      getTeste();\r\n      setPost(initialState);\r\n    }\r\n  }\r\n\r\n  async function handleDelete(id) {\r\n    await server.delete(`/delete/${id}`);\r\n    getTeste();\r\n  }\r\n\r\n  async function handleEdit(data) {\r\n    setPost(data);\r\n  }\r\n\r\n  return (\r\n    // <div className=\"View\">\r\n    <Container>\r\n      <Header>\r\n        <ButtonLogout\r\n          onClick={() => {\r\n            localStorage.removeItem(\"token\");\r\n            history.push(\"/\");\r\n          }}\r\n        >\r\n          Logout\r\n        </ButtonLogout>\r\n      </Header>\r\n      <div>\r\n        <Content>\r\n          <Title>Make your registration</Title>\r\n\r\n          <Input\r\n            type=\"name\"\r\n            value={post.nome}\r\n            onChange={(e) => setPost({ ...post, nome: e.target.value })}\r\n            placeholder=\"Name\"\r\n          ></Input>\r\n\r\n          <Input\r\n            type=\"name\"\r\n            value={post.cidade}\r\n            onChange={(e) => setPost({ ...post, cidade: e.target.value })}\r\n            placeholder=\"City\"\r\n          ></Input>\r\n          <Button onClick={handleClick} style={{ background: \"#b3b3b3\" }}>\r\n            Send\r\n          </Button>\r\n        </Content>\r\n      </div>\r\n      <div>\r\n        <Table>\r\n          <tr>\r\n            <th>Id</th>\r\n            <th>Name</th>\r\n            <th>City</th>\r\n          </tr>\r\n          {get.map((data) => (\r\n            <tr key={data.id}>\r\n              <td>{data.id}</td>\r\n              <td>{data.nome}</td>\r\n              <td>{data.cidade}</td>\r\n              <td>\r\n                <Button onClick={() => handleEdit(data)} color={\"#b3b3b3\"}>\r\n                  Edit\r\n                </Button>\r\n              </td>\r\n              <td>\r\n                <Button onClick={() => handleDelete(data.id)} color={\"#b3b3b3\"}>\r\n                  Delete\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </Table>\r\n      </div>\r\n    </Container>\r\n    /* </div> */\r\n  );\r\n}\r\n\r\nexport default View;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport { isAutenticated } from \"../auth\";\r\nimport Auth from \"../auth\";\r\nimport View from \"../view\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      isAutenticated() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n      )\r\n    }\r\n  />\r\n);\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter basename=\"/React-login-and-crud\">\r\n      <Switch>\r\n        <Route exact path=\"/\" render={() => <Auth />} />\r\n        <Route exact path=\"/view\" render={() => <View />} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const Global = createGlobalStyle`\r\n *{margin: 0;\r\n padding: 0;\r\n box-sizing: border-box;\r\n }\r\n body{\r\n    background: linear-gradient(to right, rgba(0, 0, 150, 8), transparent);\r\n  background-attachment: fixed;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 100vh;\r\n }\r\n\r\n\r\n`;\r\n","import React from \"react\";\r\nimport Routes from \"./routes\";\r\nimport { Global } from \"./Global/globalStyle\";\r\n// import { Container } from './styles';\r\n\r\nconst App = () => (\r\n  <>\r\n    <Global />\r\n    <Routes />\r\n  </>\r\n);\r\nexport default App;\r\n","import { combineReducers, configureStore } from \"@reduxjs/toolkit\";\r\nimport login from \"./login\";\r\n\r\nconst reducer = combineReducers({ login });\r\nconst store = configureStore({ reducer });\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/configureStore\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}